import { Component, OnInit } from '@angular/core';
import { ChartType } from 'angular-google-charts';
import { timer } from 'rxjs';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css'],
})
export class AppComponent implements OnInit {
  title = 'SIM Throughput';
  type = ChartType.LineChart;
  data = [
    [
      new Date(1620133855650),
      45,
      33,
      29,
      101,
      75,
      45,
      33,
      29,
      101,
      75,
      45,
      33,
      29,
      101,
      75,
      45,
      33,
      29,
      101,
      75,
      'Test',
    ],
    [
      new Date(1620133865650),
      95,
      23,
      89,
      55,
      102,
      95,
      23,
      89,
      55,
      102,
      95,
      23,
      89,
      55,
      102,
      95,
      23,
      89,
      55,
      102,
      'Test',
    ],
    [
      new Date(1620133875650),
      55,
      53,
      76,
      31,
      55,
      55,
      53,
      76,
      31,
      55,
      55,
      53,
      76,
      31,
      55,
      55,
      53,
      76,
      31,
      55,
      'Test',
    ],
    [
      new Date(1620133885650),
      25,
      36,
      49,
      22,
      85,
      25,
      36,
      49,
      22,
      85,
      25,
      36,
      49,
      22,
      85,
      25,
      36,
      49,
      22,
      85,
      'Test',
    ],

    [
      new Date(1620133895650),
      35,
      23,
      49,
      41,
      65,
      35,
      23,
      49,
      41,
      65,
      35,
      23,
      49,
      41,
      65,
      35,
      23,
      49,
      41,
      65,
      'Test',
    ],
    [
      new Date(1620133905650),
      65,
      33,
      59,
      25,
      2,
      65,
      33,
      59,
      25,
      2,
      65,
      33,
      59,
      25,
      2,
      65,
      33,
      59,
      25,
      2,
      'Test',
    ],
    [
      new Date(1620133915650),
      15,
      23,
      36,
      41,
      55,
      15,
      23,
      36,
      41,
      55,
      15,
      23,
      36,
      41,
      55,
      15,
      23,
      36,
      41,
      55,
      'Test',
    ],
    [
      new Date(1620133925650),
      55,
      31,
      42,
      12,
      65,
      55,
      31,
      42,
      12,
      65,
      55,
      31,
      42,
      12,
      65,
      55,
      31,
      42,
      12,
      65,
      'Test',
    ],
  ];
  columnNames = [
    { type: 'datetime', id: 'Time', label: 'Time' },
    { type: 'number', id: 'sim1', label: 'SIM 1' },
    { type: 'number', id: 'sim2', label: 'SIM 2' },
    { type: 'number', id: 'sim3', label: 'SIM 3' },
    { type: 'number', id: 'sim4', label: 'SIM 4' },
    { type: 'number', id: 'sim5', label: 'SIM 5' },
    { type: 'number', id: 'sim6', label: 'SIM 6' },
    { type: 'number', id: 'sim7', label: 'SIM 7' },
    { type: 'number', id: 'sim8', label: 'SIM 8' },
    { type: 'number', id: 'sim9', label: 'SIM 9' },
    { type: 'number', id: 'sim10', label: 'SIM 10' },
    { type: 'number', id: 'sim11', label: 'SIM 11' },
    { type: 'number', id: 'sim12', label: 'SIM 12' },
    { type: 'number', id: 'sim13', label: 'SIM 13' },
    { type: 'number', id: 'sim14', label: 'SIM 14' },
    { type: 'number', id: 'sim15', label: 'SIM 15' },
    { type: 'number', id: 'sim16', label: 'SIM 16' },
    { type: 'number', id: 'sim17', label: 'SIM 17' },
    { type: 'number', id: 'sim18', label: 'SIM 18' },
    { type: 'number', id: 'sim19', label: 'SIM 19' },
    { type: 'number', id: 'sim20', label: 'SIM 20' },
    { role: 'tooltip', type: 'string', p: { html: true } },
  ];
  options = {
    hAxis: {
      title: 'Time',
    },
    vAxis: {
      title: 'Throughput (Kbps)',
    },
    pointSize: 3,
    curveType: 'function',
    legend: {
      position: 'top',
      maxLines: 3,
      textStyle: {
        color: '#757575',
        fontSize: 10,
        italic: true,
      },
    },
    crosshair: {
      color: '#757575',
      orientation: 'vertical',
      trigger: 'focus',
    },
    tooltip: {
      trigger: 'focus',
      ignoreBounds: false,
      isHtml: false,
      textStyle: {
        color: '#757575',
        fontSize: '10',
        bold: true,
        italic: true,
      },
    },
    interpolateNulls: true,
    colors: [
      '#0168FF',
      '#00C9FE',
      '#2FCC98',
      '#FF7748',
      '#DA3434',
      '#FFC142',
      '#0893A8',
      '#FBAAA7',
      '#9765FE',
      '#F06AE5',
    ],
  };
  width = 1250;
  height = 430;
  networkSelected = 'mynetwork1';

  ngOnInit() {
    //Re-assign the unit dynamically
    timer(5000).subscribe(() => {
      var tempOption = Object.assign({}, this.options);
      tempOption['vAxis']['title'] = 'Throughput (Mbps)';
      this.options = tempOption;
    });
  }
}
